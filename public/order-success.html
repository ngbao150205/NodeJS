<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Đặt hàng thành công - Cửa hàng PC / Laptop</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      body {
        background-color: #f3f4f6;
      }
      .order-item-thumb {
        width: 60px;
        height: 60px;
        object-fit: cover;
        border-radius: 0.25rem;
      }
    </style>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm sticky-top">
      <div class="container">
        <a class="navbar-brand fw-bold" href="/index.html">Cửa hàng PC / Laptop</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto small">
            <li class="nav-item">
              <a class="nav-link" href="/index.html">Trang chủ</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/products.html">Sản phẩm</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/cart.html">Giỏ hàng</a>
            </li>
          </ul>
          <ul class="navbar-nav ms-auto small" id="auth-nav">
            <!-- common.js render -->
          </ul>
        </div>
      </div>
    </nav>

    <main class="container py-4">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <div class="card shadow-sm mb-3">
            <div class="card-body">
              <h4 class="h5 text-success mb-2">
                ✅ Đặt hàng thành công!
              </h4>
              <p class="small mb-3">
                Cảm ơn bạn đã mua sắm tại Cửa hàng PC / Laptop.
                Chúng tôi đã gửi email xác nhận đến địa chỉ:
                <strong id="order-email"></strong>.
              </p>

              <div class="border rounded p-2 mb-3 small">
                <div class="d-flex justify-content-between">
                  <span>Mã đơn hàng:</span>
                  <span class="fw-semibold" id="order-id"></span>
                </div>
                <div class="d-flex justify-content-between">
                  <span>Thời gian đặt:</span>
                  <span id="order-created-at"></span>
                </div>
                <div class="d-flex justify-content-between">
                  <span>Trạng thái:</span>
                  <span id="order-status"></span>
                </div>
              </div>

              <h6 class="h6">Thông tin giao hàng</h6>
              <div class="small mb-3" id="order-shipping-info">
                <!-- order-success.js render -->
              </div>

              <h6 class="h6">Sản phẩm trong đơn</h6>
              <div class="table-responsive small mb-3">
                <table class="table align-middle mb-0">
                  <thead>
                    <tr>
                      <th style="width: 10%;">Ảnh</th>
                      <th>Sản phẩm</th>
                      <th class="text-center" style="width: 90px;">SL</th>
                      <th class="text-end" style="width: 120px;">Đơn giá</th>
                      <th class="text-end" style="width: 120px;">Thành tiền</th>
                    </tr>
                  </thead>
                  <tbody id="order-items-body">
                    <!-- order-success.js render -->
                  </tbody>
                </table>
              </div>

              <div class="border-top pt-2 mt-2 small" id="order-summary-box">
                <!-- tóm tắt tiền -->
              </div>

              <!-- Lịch sử trạng thái đơn hàng -->
              <h6 class="h6 mt-3">Lịch sử trạng thái đơn hàng</h6>
              <div class="table-responsive small mb-3">
                <table class="table align-middle mb-0">
                  <thead>
                    <tr>
                      <th>Trạng thái</th>
                      <th>Ghi chú</th>
                      <th>Thời gian cập nhật</th>
                    </tr>
                  </thead>
                  <tbody id="order-status-history-body">
                    <!-- order-success.js render -->
                  </tbody>
                </table>
              </div>

              <div id="order-account-info" class="mt-3">
                <!-- nếu tạo tài khoản guest thì hiện ở đây -->
              </div>

              <div class="mt-3 d-flex justify-content-between small">
                <a href="/products.html" class="btn btn-outline-secondary btn-sm">
                  &laquo; Tiếp tục mua sắm
                </a>
                <a href="/account-orders.html" class="btn btn-primary btn-sm">
                  Theo dõi đơn hàng
                </a>
              </div>
            </div>
          </div>

          <div class="alert alert-info small">
            Nếu bạn vừa mua hàng với tư cách khách và hệ thống đã tạo tài khoản,
            vui lòng kiểm tra email để biết thông tin đăng nhập và đổi mật khẩu sớm.
          </div>

          <div id="order-success-message" class="small text-danger mt-2"></div>
        </div>
      </div>
    </main>

    <footer class="bg-primary text-light text-center py-3 small mt-4 shadow-sm">
      &copy; 2025 - Cửa hàng PC / Laptop.
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/common.js"></script>
    <script src="/order-success.js"></script>
  </body>
</html>
